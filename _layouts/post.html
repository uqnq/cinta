---
layout: default
---

<article class="post">
  <h1>{{ page.title }}</h1>

  <div class="entry">
  {% assign paragraphs = content | split: '</p>' %}
  {% assign halfway = paragraphs.size | divided_by: 2 %}

  {% for paragraph in paragraphs %}
    {{ paragraph }}</p>

    {% if forloop.index == 2 or forloop.index == halfway %}
      {% assign random_post = site.posts | sample: 1 | first %}
      {% if random_post.url != page.url %}
        <p><strong>Baca juga:</strong> 
        <a href="{{ random_post.url | relative_url }}">{{ random_post.title }}</a></p>
      {% endif %}
    {% endif %}
  {% endfor %}
</div>


  {% assign current_index = 0 %}
{% for post in site.posts %}
  {% if post.url == page.url %}
    {% assign current_index = forloop.index0 %}
  {% endif %}
{% endfor %}

{% assign start_index = current_index | minus: 2 %}
{% assign end_index = current_index | plus: 2 %}

<h3>Related Posts (by Date)</h3>
<ul>
{% for i in (start_index..end_index) %}
  {% assign related_post = site.posts[i] %}
  {% if related_post and related_post.url != page.url %}
    <li>
      <a href="{{ related_post.url | relative_url }}">{{ related_post.title }}</a>
      <small>({{ related_post.date | date: "%b %d, %Y" }})</small>
    </li>
  {% endif %}
{% endfor %}
</ul>
  
<h3>Related Posts (Random)</h3>
<ul>
  {% assign shuffled_posts = site.posts | sample: 5 %}
  {% for post in shuffled_posts %}
    {% if post.url != page.url %}
      <li>
        <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
        <small>({{ post.date | date: "%b %d, %Y" }})</small>
      </li>
    {% endif %}
  {% endfor %}
</ul>


  <div class="date">
    Written on {{ page.date | date: "%B %e, %Y" }}
  </div>

  {% include disqus.html %}
</article>
